2025-04-27T00:02:55.955+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:02:55.974+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:02:55.982+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:02:55.994+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T00:02:55.994+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T00:02:55.996+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:02:55.997+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T00:02:55.999+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T00:02:56.004+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:02:56.005+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:02:56.009+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:02:56.013+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:02:56.013+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@5c1986d6]
2025-04-27T00:02:56.015+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:05:45.243+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:05:45.245+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:05:45.247+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:05:45.252+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/credit?amount=40", parameters={masked}
2025-04-27T00:05:45.252+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#creditCard(double, Authentication)
2025-04-27T00:05:45.253+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T00:05:45.253+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:05:45.255+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T00:05:45.259+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:05:45.261+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:05:45.263+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:05:45.265+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:05:45.265+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:05:45.265+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:05:45.265+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T00:05:45.267+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:05:45.272+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:05:45.274+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T00:05:45.280+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:05:45.280+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Transaction@17edfdd3]
2025-04-27T00:05:45.282+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:05:51.912+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:05:51.913+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:05:51.916+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:05:51.921+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T00:05:51.921+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T00:05:51.922+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:05:51.923+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T00:05:51.924+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T00:05:51.925+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:05:51.926+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:05:51.929+01:00 TRACE 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:05:51.931+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:05:51.932+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@1fd6031b]
2025-04-27T00:05:51.934+01:00 DEBUG 5640 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:14:44.436+01:00  INFO 5640 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T00:14:44.445+01:00  INFO 5640 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T00:14:44.455+01:00  INFO 5640 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T00:14:44.459+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T00:14:44.460+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T00:14:44.469+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T00:14:44.471+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T00:14:44.472+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T00:14:44.474+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T00:14:44.476+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T00:14:44.477+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T00:14:44.486+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T00:14:44.493+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T00:14:44.501+01:00 DEBUG 5640 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T00:14:44.512+01:00  INFO 5640 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T00:14:44.521+01:00  INFO 5640 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T00:14:53.284+01:00  INFO 10076 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 10076 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T00:14:53.288+01:00 DEBUG 10076 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T00:14:53.290+01:00  INFO 10076 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T00:14:55.663+01:00  INFO 10076 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T00:14:55.846+01:00  INFO 10076 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160 ms. Found 4 JPA repository interfaces.
2025-04-27T00:14:57.404+01:00  INFO 10076 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T00:14:57.438+01:00  INFO 10076 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T00:14:57.439+01:00  INFO 10076 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T00:14:57.578+01:00  INFO 10076 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T00:14:57.579+01:00  INFO 10076 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4128 ms
2025-04-27T00:14:57.989+01:00  INFO 10076 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T00:14:58.143+01:00  INFO 10076 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T00:14:58.252+01:00  INFO 10076 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T00:14:59.046+01:00  INFO 10076 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T00:14:59.141+01:00  INFO 10076 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T00:14:59.720+01:00  INFO 10076 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1da75dde
2025-04-27T00:14:59.726+01:00  INFO 10076 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T00:14:59.813+01:00  WARN 10076 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T00:14:59.868+01:00  INFO 10076 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T00:15:02.707+01:00  INFO 10076 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T00:15:02.729+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T00:15:02.732+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T00:15:02.733+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T00:15:02.733+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T00:15:02.734+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T00:15:02.735+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T00:15:02.736+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T00:15:02.737+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T00:15:02.738+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T00:15:02.738+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T00:15:02.739+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T00:15:02.747+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : create table accounts (balance float(53) not null, symbol char(1) not null, account_number bigint not null unique, created_at timestamp(6), updated_at timestamp(6), account_id varchar(255) not null, account_name varchar(255), code varchar(255), currency varchar(255), label varchar(255), owner_id varchar(255), status varchar(255), type varchar(255), user_id varchar(255), primary key (account_id))
2025-04-27T00:15:02.768+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : create table bank_user (created_at timestamp(6), dob timestamp(6), tel bigint, updated_at timestamp(6), firstname varchar(255), gender varchar(255), lastname varchar(255), password varchar(255), tag varchar(255), uid varchar(255) not null, username varchar(255) not null unique, roles varchar(255) array, primary key (uid))
2025-04-27T00:15:02.778+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : create table cards (balance float(53) not null, card_number bigint not null unique, exp timestamp(6), iss timestamp(6), updated_at timestamp(6), billing_address varchar(255), card_holder varchar(255), cardid varchar(255) not null, cvv varchar(255), owner_id varchar(255) unique, pin varchar(255), primary key (cardid))
2025-04-27T00:15:02.792+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : create table transaction (amount float(53), tx_fee float(53), created_at timestamp(6), updated_at timestamp(6), account_id varchar(255), card_id varchar(255), description varchar(255), owner_id varchar(255), receiver varchar(255), sender varchar(255), status varchar(255) check (status in ('PENDING','COMPLETED','FAILED','CANCELLED','REFUNDED','DISPUTED','CHARGEBACK','REVERSED','AUTHORIZED','SETTLED')), tx_id varchar(255) not null, type varchar(255) check (type in ('WITHDRAWAL','DEPOSIT','CONVERSION','TRANSFER','CREDIT','DEBIT')), primary key (tx_id))
2025-04-27T00:15:02.802+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKeb4j5cp37j6b6t6bxbb7mun03 foreign key (owner_id) references bank_user
2025-04-27T00:15:02.808+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKgy1f1c1y1c63pkove4ilhroig foreign key (user_id) references bank_user
2025-04-27T00:15:02.810+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint FK7n1mknsc8frd6vv5dw21f7h36 foreign key (owner_id) references bank_user
2025-04-27T00:15:02.815+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKaqehs9hoj644s1sab3ge0wrs3 foreign key (account_id) references accounts
2025-04-27T00:15:02.818+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FK8j1bq1ckb9aee1sd5aeqk243f foreign key (card_id) references cards
2025-04-27T00:15:02.820+01:00 DEBUG 10076 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKs7jwsh672fmeaac7kdprhj2p8 foreign key (owner_id) references bank_user
2025-04-27T00:15:02.826+01:00  INFO 10076 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T00:15:03.886+01:00 DEBUG 10076 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T00:15:04.265+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.createAccount' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.405+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getUserAccounts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.405+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.transferFunds' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.406+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getExchangeRates' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.406+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.convertCurrency' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.553+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.getCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.558+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.560+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.debitCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.564+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.creditCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.565+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCardTransaction' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.716+01:00  INFO 10076 --- [ZentraBank] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-27T00:15:04.717+01:00  WARN 10076 --- [ZentraBank] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-27T00:15:04.723+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.registerUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.725+01:00 TRACE 10076 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.authenticateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:15:04.854+01:00  WARN 10076 --- [ZentraBank] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T00:15:05.021+01:00 DEBUG 10076 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-04-27T00:15:05.208+01:00 DEBUG 10076 --- [ZentraBank] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T00:15:05.766+01:00 DEBUG 10076 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T00:15:05.926+01:00 DEBUG 10076 --- [ZentraBank] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T00:15:06.360+01:00  INFO 10076 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-27T00:15:06.377+01:00  INFO 10076 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Started ZentraBankApplication in 14.461 seconds (process running for 15.581)
2025-04-27T00:15:06.385+01:00  INFO 10076 --- [ZentraBank] [main] .ExchangeRateScheduleTaskRunnerComponent : Starting exchange rate schedule task...
2025-04-27T00:15:06.662+01:00 DEBUG 10076 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : HTTP GET https://api.currencyapi.com/v3/latest?apikey=cur_live_P089H1jsFKtMB9WGMdfL9qodmdXcRjkatDClV6Jy
2025-04-27T00:15:06.685+01:00 DEBUG 10076 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-27T00:15:07.534+01:00 DEBUG 10076 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-27T00:15:07.539+01:00 DEBUG 10076 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Reading to [com.fasterxml.jackson.databind.JsonNode]
2025-04-27T00:15:07.652+01:00  INFO 10076 --- [ZentraBank] [pool-2-thread-1] .ExchangeRateScheduleTaskRunnerComponent : Exchange rates updated successfully.
2025-04-27T00:15:30.478+01:00  INFO 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T00:15:30.479+01:00  INFO 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T00:15:30.480+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T00:15:30.480+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T00:15:30.480+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T00:15:30.482+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7e305953
2025-04-27T00:15:30.484+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a0b550a
2025-04-27T00:15:30.484+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T00:15:30.485+01:00  INFO 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-27T00:15:30.875+01:00 TRACE 10076 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:15:31.224+01:00 DEBUG 10076 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:16:06.450+01:00  INFO 10076 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T00:16:06.460+01:00  INFO 10076 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T00:16:06.468+01:00  INFO 10076 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T00:16:06.469+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T00:16:06.472+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T00:16:06.475+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T00:16:06.477+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T00:16:06.480+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T00:16:06.483+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T00:16:06.485+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T00:16:06.487+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T00:16:06.495+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T00:16:06.501+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T00:16:06.506+01:00 DEBUG 10076 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T00:16:06.512+01:00  INFO 10076 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T00:16:06.531+01:00  INFO 10076 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T00:16:15.623+01:00  INFO 10504 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 10504 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T00:16:15.628+01:00 DEBUG 10504 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T00:16:15.631+01:00  INFO 10504 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T00:16:17.666+01:00  INFO 10504 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T00:16:17.914+01:00  INFO 10504 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 211 ms. Found 4 JPA repository interfaces.
2025-04-27T00:16:19.825+01:00  INFO 10504 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T00:16:19.859+01:00  INFO 10504 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T00:16:19.860+01:00  INFO 10504 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T00:16:19.994+01:00  INFO 10504 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T00:16:19.995+01:00  INFO 10504 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4247 ms
2025-04-27T00:16:20.457+01:00  INFO 10504 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T00:16:20.633+01:00  INFO 10504 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T00:16:20.804+01:00  INFO 10504 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T00:16:21.529+01:00  INFO 10504 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T00:16:21.603+01:00  INFO 10504 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T00:16:22.075+01:00  INFO 10504 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36f6d25c
2025-04-27T00:16:22.079+01:00  INFO 10504 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T00:16:22.152+01:00  WARN 10504 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T00:16:22.193+01:00  INFO 10504 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T00:16:24.930+01:00  INFO 10504 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T00:16:24.955+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T00:16:24.959+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T00:16:24.960+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T00:16:24.961+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T00:16:24.962+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T00:16:24.963+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T00:16:24.964+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T00:16:24.965+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T00:16:24.966+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T00:16:24.967+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T00:16:24.968+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T00:16:24.977+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : create table accounts (balance float(53) not null, symbol char(1) not null, account_number bigint not null unique, created_at timestamp(6), updated_at timestamp(6), account_id varchar(255) not null, account_name varchar(255), code varchar(255), currency varchar(255), label varchar(255), owner_id varchar(255), status varchar(255), type varchar(255), user_id varchar(255), primary key (account_id))
2025-04-27T00:16:24.999+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : create table bank_user (created_at timestamp(6), dob timestamp(6), tel bigint, updated_at timestamp(6), firstname varchar(255), gender varchar(255), lastname varchar(255), password varchar(255), tag varchar(255), uid varchar(255) not null, username varchar(255) not null unique, roles varchar(255) array, primary key (uid))
2025-04-27T00:16:25.016+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : create table cards (balance float(53) not null, card_number bigint not null unique, exp timestamp(6), iss timestamp(6), updated_at timestamp(6), billing_address varchar(255), card_holder varchar(255), cardid varchar(255) not null, cvv varchar(255), owner_id varchar(255) unique, pin varchar(255), primary key (cardid))
2025-04-27T00:16:25.037+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : create table transaction (amount float(53), tx_fee float(53), created_at timestamp(6), updated_at timestamp(6), account_id varchar(255), card_id varchar(255), description varchar(255), owner_id varchar(255), receiver varchar(255), sender varchar(255), status varchar(255) check (status in ('PENDING','COMPLETED','FAILED','CANCELLED','REFUNDED','DISPUTED','CHARGEBACK','REVERSED','AUTHORIZED','SETTLED')), tx_id varchar(255) not null, type varchar(255) check (type in ('WITHDRAWAL','DEPOSIT','CONVERSION','TRANSFER','CREDIT','DEBIT')), primary key (tx_id))
2025-04-27T00:16:25.051+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKeb4j5cp37j6b6t6bxbb7mun03 foreign key (owner_id) references bank_user
2025-04-27T00:16:25.059+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKgy1f1c1y1c63pkove4ilhroig foreign key (user_id) references bank_user
2025-04-27T00:16:25.062+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint FK7n1mknsc8frd6vv5dw21f7h36 foreign key (owner_id) references bank_user
2025-04-27T00:16:25.067+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKaqehs9hoj644s1sab3ge0wrs3 foreign key (account_id) references accounts
2025-04-27T00:16:25.072+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FK8j1bq1ckb9aee1sd5aeqk243f foreign key (card_id) references cards
2025-04-27T00:16:25.074+01:00 DEBUG 10504 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKs7jwsh672fmeaac7kdprhj2p8 foreign key (owner_id) references bank_user
2025-04-27T00:16:25.084+01:00  INFO 10504 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T00:16:25.938+01:00 DEBUG 10504 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T00:16:26.114+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getUserAccounts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.135+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.convertCurrency' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.135+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getExchangeRates' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.136+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.transferFunds' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.136+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.createAccount' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.223+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.generateRandomCardNumber' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.229+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCardTransaction' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.230+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.230+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.creditCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.231+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.debitCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.231+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.getCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.299+01:00  INFO 10504 --- [ZentraBank] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-27T00:16:26.299+01:00  WARN 10504 --- [ZentraBank] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-27T00:16:26.305+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.authenticateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.308+01:00 TRACE 10504 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.registerUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T00:16:26.382+01:00  WARN 10504 --- [ZentraBank] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T00:16:26.607+01:00 DEBUG 10504 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-04-27T00:16:26.795+01:00 DEBUG 10504 --- [ZentraBank] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T00:16:27.132+01:00 DEBUG 10504 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T00:16:27.212+01:00 DEBUG 10504 --- [ZentraBank] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T00:16:27.399+01:00  INFO 10504 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-27T00:16:27.416+01:00  INFO 10504 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Started ZentraBankApplication in 13.093 seconds (process running for 14.401)
2025-04-27T00:16:27.423+01:00  INFO 10504 --- [ZentraBank] [main] .ExchangeRateScheduleTaskRunnerComponent : Starting exchange rate schedule task...
2025-04-27T00:16:27.608+01:00 DEBUG 10504 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : HTTP GET https://api.currencyapi.com/v3/latest?apikey=cur_live_P089H1jsFKtMB9WGMdfL9qodmdXcRjkatDClV6Jy
2025-04-27T00:16:27.638+01:00 DEBUG 10504 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-27T00:16:28.218+01:00 DEBUG 10504 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-27T00:16:28.224+01:00 DEBUG 10504 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Reading to [com.fasterxml.jackson.databind.JsonNode]
2025-04-27T00:16:28.297+01:00  INFO 10504 --- [ZentraBank] [pool-2-thread-1] .ExchangeRateScheduleTaskRunnerComponent : Exchange rates updated successfully.
2025-04-27T00:16:47.607+01:00  INFO 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T00:16:47.608+01:00  INFO 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T00:16:47.609+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T00:16:47.610+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T00:16:47.610+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T00:16:47.612+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7842260f
2025-04-27T00:16:47.613+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1b2e841
2025-04-27T00:16:47.614+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T00:16:47.614+01:00  INFO 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-27T00:16:47.690+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/register", parameters={}
2025-04-27T00:16:47.693+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#registerUser(UserDto)
2025-04-27T00:16:47.964+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@4f46d5d6]
2025-04-27T00:16:48.010+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T00:16:48.178+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:16:48.263+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:16:48.264+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T00:16:48.302+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into bank_user (created_at,dob,firstname,gender,lastname,password,roles,tag,tel,updated_at,username,uid) values (?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:16:48.446+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:16:48.452+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@47cc314d]
2025-04-27T00:16:48.495+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:16:58.563+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/auth", parameters={}
2025-04-27T00:16:58.564+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#authenticateUser(UserDto)
2025-04-27T00:16:58.573+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@222c635b]
2025-04-27T00:16:58.576+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T00:16:58.577+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:16:58.998+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:16:59.063+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:16:59.176+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:16:59.181+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:16:59.428+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T00:16:59.430+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:16:59.431+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@6705599c]
2025-04-27T00:16:59.435+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:18:08.936+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:18:08.997+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:18:09.002+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:18:09.006+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/accounts", parameters={}
2025-04-27T00:18:09.007+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.AccountController#createAccount(AccountDto, Authentication)
2025-04-27T00:18:09.020+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.AccountDto@58017ca8]
2025-04-27T00:18:09.024+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T00:18:09.026+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:18:09.037+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T00:18:09.047+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByAccountNumber]: This method is not transactional.
2025-04-27T00:18:09.049+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 where a1_0.account_number=? fetch first ? rows only
2025-04-27T00:18:09.053+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:09.063+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:09.064+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T00:18:09.066+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into accounts (account_name,account_number,balance,code,created_at,currency,label,owner_id,status,symbol,type,updated_at,user_id,account_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:18:09.079+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:18:09.080+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Account@1e3b11ac]
2025-04-27T00:18:09.088+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:18:39.603+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:18:39.606+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:18:39.609+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:18:39.614+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/create?amount=10", parameters={masked}
2025-04-27T00:18:39.614+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#createCard(double, Authentication)
2025-04-27T00:18:39.622+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T00:18:39.624+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:18:39.625+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T00:18:39.628+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:18:39.631+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T00:18:39.643+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:18:39.646+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:18:39.653+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCardNumber]: This method is not transactional.
2025-04-27T00:18:39.659+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.cardid from cards c1_0 where c1_0.card_number=? fetch first ? rows only
2025-04-27T00:18:39.663+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.664+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.665+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.667+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.668+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.669+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.669+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.670+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.671+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.674+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:18:39.675+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T00:18:39.676+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,cardid) values (?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:18:39.680+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:18:39.683+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:18:39.685+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:18:39.696+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T00:18:39.708+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:18:39.708+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@14d1db42]
2025-04-27T00:18:39.716+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:19:26.393+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:19:26.396+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:19:26.397+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:19:26.403+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/credit?amount=100", parameters={masked}
2025-04-27T00:19:26.404+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#creditCard(double, Authentication)
2025-04-27T00:19:26.405+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T00:19:26.407+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:19:26.409+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T00:19:26.411+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:19:26.413+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:19:26.421+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.422+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.422+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.428+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.428+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.429+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:19:26.429+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T00:19:26.431+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:19:26.432+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:19:26.436+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : update cards set balance=?,billing_address=?,card_holder=?,card_number=?,cvv=?,exp=?,iss=?,owner_id=?,pin=?,updated_at=? where cardid=?
2025-04-27T00:19:26.438+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T00:19:26.454+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:19:26.455+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Transaction@4beb3faa]
2025-04-27T00:19:26.458+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:19:37.671+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:19:37.674+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:19:37.686+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:19:37.692+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T00:19:37.693+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T00:19:37.695+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:19:37.696+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T00:19:37.699+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T00:19:37.701+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:19:37.703+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:19:37.707+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:19:37.710+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:19:37.710+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@695e122c]
2025-04-27T00:19:37.713+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:20:52.605+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:20:52.608+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:20:52.610+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:20:52.615+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T00:20:52.616+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T00:20:52.616+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:20:52.617+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T00:20:52.619+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T00:20:52.622+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:20:52.623+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:20:52.626+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:20:52.628+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:20:52.629+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@4c60015a]
2025-04-27T00:20:52.631+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:21:10.114+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:21:10.116+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:21:10.118+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:10.123+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/accounts", parameters={}
2025-04-27T00:21:10.124+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.AccountController#getUserAccounts(Authentication)
2025-04-27T00:21:10.125+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.AccountService.getUserAccounts]
2025-04-27T00:21:10.126+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T00:21:10.129+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where o1_0.uid=?
2025-04-27T00:21:10.131+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:21:10.132+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:10.135+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.AccountService.getUserAccounts]
2025-04-27T00:21:10.140+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:21:10.140+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[fizy.web.app.entity.Account@1cbc4fb2]]
2025-04-27T00:21:10.143+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:21:38.653+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:21:38.655+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:21:38.658+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:38.663+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/debit?amount=9", parameters={masked}
2025-04-27T00:21:38.663+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#debitCard(double, Authentication)
2025-04-27T00:21:38.665+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.debitCard]
2025-04-27T00:21:38.665+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T00:21:38.668+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T00:21:38.671+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:21:38.672+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:38.677+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.678+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.678+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.679+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.679+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.680+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T00:21:38.680+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.debitCard]
2025-04-27T00:21:38.682+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:21:38.684+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T00:21:38.687+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : update cards set balance=?,billing_address=?,card_holder=?,card_number=?,cvv=?,exp=?,iss=?,owner_id=?,pin=?,updated_at=? where cardid=?
2025-04-27T00:21:38.689+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T00:21:38.693+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:21:38.693+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Transaction@6f9574a5]
2025-04-27T00:21:38.695+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:21:45.312+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T00:21:45.314+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T00:21:45.316+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:45.319+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T00:21:45.319+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T00:21:45.320+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:21:45.320+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T00:21:45.322+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T00:21:45.324+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T00:21:45.326+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.cardid,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T00:21:45.329+01:00 TRACE 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T00:21:45.331+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T00:21:45.332+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@6e7ea2f9]
2025-04-27T00:21:45.333+01:00 DEBUG 10504 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T00:22:54.256+01:00  INFO 10504 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T00:22:54.266+01:00  INFO 10504 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T00:22:54.273+01:00  INFO 10504 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T00:22:54.275+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T00:22:54.276+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T00:22:54.280+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T00:22:54.282+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T00:22:54.284+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T00:22:54.286+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T00:22:54.287+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T00:22:54.289+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T00:22:54.296+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T00:22:54.302+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T00:22:54.308+01:00 DEBUG 10504 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T00:22:54.315+01:00  INFO 10504 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T00:22:54.327+01:00  INFO 10504 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T01:01:09.225+01:00  INFO 1356 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 1356 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T01:01:09.230+01:00 DEBUG 1356 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T01:01:09.232+01:00  INFO 1356 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T01:01:11.767+01:00  INFO 1356 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T01:01:12.001+01:00  INFO 1356 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 209 ms. Found 4 JPA repository interfaces.
2025-04-27T01:01:13.809+01:00  INFO 1356 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T01:01:13.836+01:00  INFO 1356 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T01:01:13.837+01:00  INFO 1356 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T01:01:13.959+01:00  INFO 1356 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T01:01:13.960+01:00  INFO 1356 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4476 ms
2025-04-27T01:01:14.382+01:00  INFO 1356 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T01:01:14.549+01:00  INFO 1356 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T01:01:14.662+01:00  INFO 1356 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T01:01:15.468+01:00  INFO 1356 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T01:01:15.521+01:00  INFO 1356 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T01:01:15.913+01:00  INFO 1356 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ff03361
2025-04-27T01:01:15.916+01:00  INFO 1356 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T01:01:15.983+01:00  WARN 1356 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T01:01:16.029+01:00  INFO 1356 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T01:01:18.424+01:00  INFO 1356 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T01:01:18.526+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : create table accounts (account_id varchar(255) not null, account_name varchar(255), account_number bigint not null, balance float(53) not null, code varchar(255), created_at timestamp(6), currency varchar(255), label varchar(255), status varchar(255), symbol char(1) not null, type varchar(255), updated_at timestamp(6), owner_id varchar(255), user_id varchar(255), primary key (account_id))
2025-04-27T01:01:18.865+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : create table bank_user (uid varchar(255) not null, created_at timestamp(6), dob timestamp(6), firstname varchar(255), gender varchar(255), lastname varchar(255), password varchar(255), roles varchar(255) array, tag varchar(255), tel bigint, updated_at timestamp(6), username varchar(255) not null, primary key (uid))
2025-04-27T01:01:18.887+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : create table cards (cardid varchar(255) not null, balance float(53) not null, billing_address varchar(255), card_holder varchar(255), card_number bigint not null, cvv varchar(255), exp timestamp(6), iss timestamp(6), pin varchar(255), updated_at timestamp(6), owner_id varchar(255), primary key (cardid))
2025-04-27T01:01:18.899+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : create table transaction (tx_id varchar(255) not null, amount float(53), created_at timestamp(6), description varchar(255), receiver varchar(255), sender varchar(255), status varchar(255) check (status in ('PENDING','COMPLETED','FAILED','CANCELLED','REFUNDED','DISPUTED','CHARGEBACK','REVERSED','AUTHORIZED','SETTLED')), tx_fee float(53), type varchar(255) check (type in ('WITHDRAWAL','DEPOSIT','CONVERSION','TRANSFER','CREDIT','DEBIT')), updated_at timestamp(6), account_id varchar(255), card_id varchar(255), owner_id varchar(255), primary key (tx_id))
2025-04-27T01:01:18.911+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists UK6kplolsdtr3slnvx97xsy2kc8
2025-04-27T01:01:18.915+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-04-27T01:01:18.916+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk6kplolsdtr3slnvx97xsy2kc8" of relation "accounts" does not exist, skipping
2025-04-27T01:01:18.916+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint UK6kplolsdtr3slnvx97xsy2kc8 unique (account_number)
2025-04-27T01:01:18.921+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists bank_user drop constraint if exists UKt2kg5wqfyxa84ghnt029e5npg
2025-04-27T01:01:18.922+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-04-27T01:01:18.922+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukt2kg5wqfyxa84ghnt029e5npg" of relation "bank_user" does not exist, skipping
2025-04-27T01:01:18.922+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists bank_user add constraint UKt2kg5wqfyxa84ghnt029e5npg unique (username)
2025-04-27T01:01:18.927+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists UKqualp9iflk959u561wanavuj1
2025-04-27T01:01:18.928+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-04-27T01:01:18.929+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukqualp9iflk959u561wanavuj1" of relation "cards" does not exist, skipping
2025-04-27T01:01:18.929+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint UKqualp9iflk959u561wanavuj1 unique (card_number)
2025-04-27T01:01:18.932+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists UKia4f6g85oukxj5102t1y190i
2025-04-27T01:01:18.934+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-04-27T01:01:18.934+01:00  WARN 1356 --- [ZentraBank] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukia4f6g85oukxj5102t1y190i" of relation "cards" does not exist, skipping
2025-04-27T01:01:18.934+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint UKia4f6g85oukxj5102t1y190i unique (owner_id)
2025-04-27T01:01:18.939+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKeb4j5cp37j6b6t6bxbb7mun03 foreign key (owner_id) references bank_user
2025-04-27T01:01:18.946+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKgy1f1c1y1c63pkove4ilhroig foreign key (user_id) references bank_user
2025-04-27T01:01:18.948+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint FK7n1mknsc8frd6vv5dw21f7h36 foreign key (owner_id) references bank_user
2025-04-27T01:01:18.953+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKaqehs9hoj644s1sab3ge0wrs3 foreign key (account_id) references accounts
2025-04-27T01:01:18.958+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FK8j1bq1ckb9aee1sd5aeqk243f foreign key (card_id) references cards
2025-04-27T01:01:18.962+01:00 DEBUG 1356 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKs7jwsh672fmeaac7kdprhj2p8 foreign key (owner_id) references bank_user
2025-04-27T01:01:18.968+01:00  INFO 1356 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:01:19.893+01:00 DEBUG 1356 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T01:01:20.020+01:00  WARN 1356 --- [ZentraBank] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\controller\AccountController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountService' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\AccountService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'accountHelper' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\helper\AccountHelper.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in fizy.web.app.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
2025-04-27T01:01:20.021+01:00  INFO 1356 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:01:20.036+01:00  INFO 1356 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T01:01:20.049+01:00  INFO 1356 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T01:01:20.054+01:00  INFO 1356 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-27T01:01:20.091+01:00  INFO 1356 --- [ZentraBank] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-27T01:01:20.490+01:00 ERROR 1356 --- [ZentraBank] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\controller\AccountController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountService' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\AccountService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'accountHelper' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\helper\AccountHelper.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in fizy.web.app.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.0-M3.jar:3.5.0-M3]
	at fizy.web.app.ZentraBankApplication.main(ZentraBankApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountService' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\AccountService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'accountHelper' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\helper\AccountHelper.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in fizy.web.app.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountHelper' defined in file [C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes\fizy\web\app\service\helper\AccountHelper.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in fizy.web.app.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in fizy.web.app.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page fizy.web.app.repository.TransactionRepository.findAllByCardCardIdAndOwnerUid(java.lang.String,java.lang.String,org.springframework.data.domain.Pageable); No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	... 69 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'cardId' found for type 'Card'; Did you mean 'cardid'; Traversed path: Transaction.card
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:465) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103) ~[spring-data-commons-3.5.0-M2.jar:3.5.0-M2]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.5.0-M2.jar:3.5.0-M2]
	... 73 common frames omitted

2025-04-27T01:08:22.743+01:00  INFO 11872 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 11872 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T01:08:22.747+01:00 DEBUG 11872 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T01:08:22.749+01:00  INFO 11872 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T01:08:24.686+01:00  INFO 11872 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T01:08:24.867+01:00  INFO 11872 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 4 JPA repository interfaces.
2025-04-27T01:08:26.287+01:00  INFO 11872 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T01:08:26.320+01:00  INFO 11872 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T01:08:26.321+01:00  INFO 11872 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T01:08:26.442+01:00  INFO 11872 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T01:08:26.443+01:00  INFO 11872 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3538 ms
2025-04-27T01:08:26.816+01:00  INFO 11872 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T01:08:26.956+01:00  INFO 11872 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T01:08:27.087+01:00  INFO 11872 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T01:08:27.824+01:00  INFO 11872 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T01:08:27.896+01:00  INFO 11872 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T01:08:28.358+01:00  INFO 11872 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18e6b72b
2025-04-27T01:08:28.361+01:00  INFO 11872 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T01:08:28.423+01:00  WARN 11872 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T01:08:28.459+01:00  INFO 11872 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T01:08:30.622+01:00  INFO 11872 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T01:08:30.708+01:00 DEBUG 11872 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add column card_id varchar(255) not null
2025-04-27T01:08:31.105+01:00  INFO 11872 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:08:31.818+01:00 DEBUG 11872 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T01:08:31.993+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.transferFunds' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.011+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.convertCurrency' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.012+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.createAccount' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.013+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getUserAccounts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.013+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getExchangeRates' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.119+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.debitCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.123+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.getCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.124+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.124+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.creditCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.124+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCardTransaction' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.190+01:00  INFO 11872 --- [ZentraBank] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-27T01:08:32.191+01:00  WARN 11872 --- [ZentraBank] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-27T01:08:32.198+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.mapToUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.199+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.registerUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.200+01:00 TRACE 11872 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.authenticateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:08:32.263+01:00  WARN 11872 --- [ZentraBank] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T01:08:32.508+01:00 DEBUG 11872 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T01:08:32.680+01:00 DEBUG 11872 --- [ZentraBank] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T01:08:33.022+01:00 DEBUG 11872 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T01:08:33.107+01:00 DEBUG 11872 --- [ZentraBank] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T01:08:33.319+01:00  INFO 11872 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-27T01:08:33.341+01:00  INFO 11872 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Started ZentraBankApplication in 11.695 seconds (process running for 12.694)
2025-04-27T01:08:33.349+01:00  INFO 11872 --- [ZentraBank] [main] .ExchangeRateScheduleTaskRunnerComponent : Starting exchange rate schedule task...
2025-04-27T01:08:33.639+01:00 DEBUG 11872 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : HTTP GET https://api.currencyapi.com/v3/latest?apikey=cur_live_P089H1jsFKtMB9WGMdfL9qodmdXcRjkatDClV6Jy
2025-04-27T01:08:33.666+01:00 DEBUG 11872 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-27T01:08:34.276+01:00 DEBUG 11872 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-27T01:08:34.282+01:00 DEBUG 11872 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Reading to [com.fasterxml.jackson.databind.JsonNode]
2025-04-27T01:08:34.337+01:00  INFO 11872 --- [ZentraBank] [pool-2-thread-1] .ExchangeRateScheduleTaskRunnerComponent : Exchange rates updated successfully.
2025-04-27T01:10:17.692+01:00  INFO 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T01:10:17.693+01:00  INFO 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T01:10:17.693+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T01:10:17.693+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T01:10:17.693+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T01:10:17.695+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@304cad3a
2025-04-27T01:10:17.696+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5825932c
2025-04-27T01:10:17.696+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T01:10:17.697+01:00  INFO 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-04-27T01:10:17.986+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:10:18.288+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:16:36.888+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/auth", parameters={}
2025-04-27T01:16:36.891+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#authenticateUser(UserDto)
2025-04-27T01:16:36.989+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@704ea900]
2025-04-27T01:16:37.013+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T01:16:37.014+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:16:37.018+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:16:37.022+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.authenticateUser] after exception: org.springframework.security.core.userdetails.UsernameNotFoundException: User not found
2025-04-27T01:16:37.036+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.core.userdetails.UsernameNotFoundException: User not found
2025-04-27T01:16:47.780+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/register", parameters={}
2025-04-27T01:16:47.781+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#registerUser(UserDto)
2025-04-27T01:16:47.783+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@4681eeab]
2025-04-27T01:16:47.784+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T01:16:47.912+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:16:47.951+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:16:47.952+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T01:16:47.976+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into bank_user (created_at,dob,firstname,gender,lastname,password,roles,tag,tel,updated_at,username,uid) values (?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:16:48.057+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:16:48.060+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@438ebb87]
2025-04-27T01:16:48.102+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:17:20.848+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/auth", parameters={}
2025-04-27T01:17:20.848+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#authenticateUser(UserDto)
2025-04-27T01:17:20.850+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@3d191657]
2025-04-27T01:17:20.851+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T01:17:20.851+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:17:20.854+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:17:20.874+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:17:20.983+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:17:21.006+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:17:21.137+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T01:17:21.140+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:17:21.141+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@64367002]
2025-04-27T01:17:21.146+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:17:32.596+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:17:32.599+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:17:32.601+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:17:32.605+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T01:17:32.605+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T01:17:32.609+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:17:32.610+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T01:17:32.617+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T01:17:32.621+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard] after exception: java.lang.UnsupportedOperationException: Card does not exist
2025-04-27T01:17:32.622+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.UnsupportedOperationException: Card does not exist
2025-04-27T01:17:32.623+01:00 ERROR 11872 --- [ZentraBank] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed: java.lang.UnsupportedOperationException: Card does not exist] with root cause

java.lang.UnsupportedOperationException: Card does not exist
	at fizy.web.app.service.CardService.lambda$getCard$0(CardService.java:27) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at fizy.web.app.service.CardService.getCard(CardService.java:27) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at fizy.web.app.service.CardService$$SpringCGLIB$$0.getCard(<generated>) ~[classes/:na]
	at fizy.web.app.controller.CardController.getCard(CardController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:370) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at fizy.web.app.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$4(FilterChainProxy.java:237) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:216) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:194) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-27T01:17:43.958+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:17:43.960+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:17:43.963+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:17:43.975+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T01:17:43.975+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T01:17:43.976+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:17:43.977+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T01:17:43.979+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T01:17:43.981+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard] after exception: java.lang.UnsupportedOperationException: Card does not exist
2025-04-27T01:17:43.984+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.UnsupportedOperationException: Card does not exist
2025-04-27T01:17:43.985+01:00 ERROR 11872 --- [ZentraBank] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed: java.lang.UnsupportedOperationException: Card does not exist] with root cause

java.lang.UnsupportedOperationException: Card does not exist
	at fizy.web.app.service.CardService.lambda$getCard$0(CardService.java:27) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at fizy.web.app.service.CardService.getCard(CardService.java:27) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at fizy.web.app.service.CardService$$SpringCGLIB$$0.getCard(<generated>) ~[classes/:na]
	at fizy.web.app.controller.CardController.getCard(CardController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:370) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at fizy.web.app.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$4(FilterChainProxy.java:237) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:216) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:194) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-27T01:18:26.141+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:18:26.143+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:18:26.146+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:18:26.151+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/accounts", parameters={}
2025-04-27T01:18:26.152+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.AccountController#createAccount(AccountDto, Authentication)
2025-04-27T01:18:26.155+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.AccountDto@19912bd0]
2025-04-27T01:18:26.156+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T01:18:26.156+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:18:26.162+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T01:18:26.167+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByAccountNumber]: This method is not transactional.
2025-04-27T01:18:26.169+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 where a1_0.account_number=? fetch first ? rows only
2025-04-27T01:18:26.172+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:26.182+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:26.183+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T01:18:26.184+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into accounts (account_name,account_number,balance,code,created_at,currency,label,owner_id,status,symbol,type,updated_at,user_id,account_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:18:26.200+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:18:26.200+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Account@48cf3e99]
2025-04-27T01:18:26.211+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:18:53.816+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:18:53.819+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:18:53.821+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:18:53.826+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/create?amount=100", parameters={masked}
2025-04-27T01:18:53.827+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#createCard(double, Authentication)
2025-04-27T01:18:53.832+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T01:18:53.834+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:18:53.836+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T01:18:53.841+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:18:53.845+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T01:18:53.855+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:18:53.857+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:18:53.863+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCardNumber]: This method is not transactional.
2025-04-27T01:18:53.870+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id from cards c1_0 where c1_0.card_number=? fetch first ? rows only
2025-04-27T01:18:53.873+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.875+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.876+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.878+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.878+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.879+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.879+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.880+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.880+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.884+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:18:53.884+01:00 TRACE 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T01:18:53.886+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:18:53.903+01:00  WARN 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-04-27T01:18:53.904+01:00 ERROR 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "cardid" of relation "cards" violates not-null constraint
  Detail: Failing row contains (null, 99, null, Fizy Edward, 5341740975765211, 599, 2028-04-27 01:18:53.872783, 2025-04-27 01:18:53.885544, null, 2025-04-27 01:18:53.885544, feeb6174-8eba-4c5e-8cdf-2868c0948284, f74bc41e-49c5-465e-9477-1f660eace4ac).
2025-04-27T01:18:53.924+01:00 DEBUG 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "cardid" of relation "cards" violates not-null constraint
  Detail: Failing row contains (null, 99, null, Fizy Edward, 5341740975765211, 599, 2028-04-27 01:18:53.872783, 2025-04-27 01:18:53.885544, null, 2025-04-27 01:18:53.885544, feeb6174-8eba-4c5e-8cdf-2868c0948284, f74bc41e-49c5-465e-9477-1f660eace4ac).] [insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [cardid" of relation "cards]
2025-04-27T01:18:53.925+01:00 ERROR 11872 --- [ZentraBank] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "cardid" of relation "cards" violates not-null constraint
  Detail: Failing row contains (null, 99, null, Fizy Edward, 5341740975765211, 599, 2028-04-27 01:18:53.872783, 2025-04-27 01:18:53.885544, null, 2025-04-27 01:18:53.885544, feeb6174-8eba-4c5e-8cdf-2868c0948284, f74bc41e-49c5-465e-9477-1f660eace4ac).] [insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [cardid" of relation "cards]] with root cause

org.postgresql.util.PSQLException: ERROR: null value in column "cardid" of relation "cards" violates not-null constraint
  Detail: Failing row contains (null, 99, null, Fizy Edward, 5341740975765211, 599, 2028-04-27 01:18:53.872783, 2025-04-27 01:18:53.885544, null, 2025-04-27 01:18:53.885544, feeb6174-8eba-4c5e-8cdf-2868c0948284, f74bc41e-49c5-465e-9477-1f660eace4ac).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.5.jar:42.7.5]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-6.2.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-6.2.1.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at fizy.web.app.service.CardService$$SpringCGLIB$$0.createCard(<generated>) ~[classes/:na]
	at fizy.web.app.controller.CardController.createCard(CardController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:370) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at fizy.web.app.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:379) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$4(FilterChainProxy.java:237) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:216) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:194) ~[spring-security-web-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.5.0-M3.jar:6.5.0-M3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-27T01:19:48.076+01:00  INFO 11872 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T01:19:48.085+01:00  INFO 11872 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T01:19:48.095+01:00  INFO 11872 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:19:48.099+01:00  INFO 11872 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T01:19:48.119+01:00  INFO 11872 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T01:20:16.867+01:00  INFO 6556 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 6556 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T01:20:16.870+01:00 DEBUG 6556 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T01:20:16.872+01:00  INFO 6556 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T01:20:18.705+01:00  INFO 6556 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T01:20:18.895+01:00  INFO 6556 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 167 ms. Found 4 JPA repository interfaces.
2025-04-27T01:20:20.334+01:00  INFO 6556 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T01:20:20.368+01:00  INFO 6556 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T01:20:20.369+01:00  INFO 6556 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T01:20:20.519+01:00  INFO 6556 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T01:20:20.521+01:00  INFO 6556 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3489 ms
2025-04-27T01:20:21.070+01:00  INFO 6556 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T01:20:21.279+01:00  INFO 6556 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T01:20:21.388+01:00  INFO 6556 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T01:20:22.208+01:00  INFO 6556 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T01:20:22.285+01:00  INFO 6556 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T01:20:22.924+01:00  INFO 6556 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ea75b05
2025-04-27T01:20:22.927+01:00  INFO 6556 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T01:20:22.991+01:00  WARN 6556 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T01:20:23.033+01:00  INFO 6556 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T01:20:25.681+01:00  INFO 6556 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T01:20:26.204+01:00  INFO 6556 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:20:26.920+01:00 DEBUG 6556 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T01:20:27.098+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.convertCurrency' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.120+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getExchangeRates' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.121+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.createAccount' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.123+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getUserAccounts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.125+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.transferFunds' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.209+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.getCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.212+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.213+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.creditCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.214+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.debitCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.215+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCardTransaction' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.277+01:00  INFO 6556 --- [ZentraBank] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-27T01:20:27.278+01:00  WARN 6556 --- [ZentraBank] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-27T01:20:27.283+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.authenticateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.285+01:00 TRACE 6556 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.registerUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:20:27.394+01:00  WARN 6556 --- [ZentraBank] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T01:20:27.595+01:00 DEBUG 6556 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T01:20:27.801+01:00 DEBUG 6556 --- [ZentraBank] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T01:20:28.158+01:00 DEBUG 6556 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T01:20:28.243+01:00 DEBUG 6556 --- [ZentraBank] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T01:20:28.520+01:00  INFO 6556 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-27T01:20:28.540+01:00  INFO 6556 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Started ZentraBankApplication in 12.773 seconds (process running for 13.65)
2025-04-27T01:20:28.547+01:00  INFO 6556 --- [ZentraBank] [main] .ExchangeRateScheduleTaskRunnerComponent : Starting exchange rate schedule task...
2025-04-27T01:20:28.854+01:00 DEBUG 6556 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : HTTP GET https://api.currencyapi.com/v3/latest?apikey=cur_live_P089H1jsFKtMB9WGMdfL9qodmdXcRjkatDClV6Jy
2025-04-27T01:20:28.883+01:00 DEBUG 6556 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-27T01:20:29.669+01:00 DEBUG 6556 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-27T01:20:29.675+01:00 DEBUG 6556 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Reading to [com.fasterxml.jackson.databind.JsonNode]
2025-04-27T01:20:29.748+01:00  INFO 6556 --- [ZentraBank] [pool-2-thread-1] .ExchangeRateScheduleTaskRunnerComponent : Exchange rates updated successfully.
2025-04-27T01:21:37.806+01:00  INFO 6556 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T01:21:37.817+01:00  INFO 6556 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T01:21:37.826+01:00  INFO 6556 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:21:37.831+01:00  INFO 6556 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T01:21:37.848+01:00  INFO 6556 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T01:21:45.736+01:00  INFO 24928 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Starting ZentraBankApplication using Java 21.0.6 with PID 24928 (C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank\target\classes started by chine in C:\Users\chine\Desktop\UoB RESOURCES\ADVANCED SOFTWARE ENG\proj\ZentraBank)
2025-04-27T01:21:45.741+01:00 DEBUG 24928 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Running with Spring Boot v3.5.0-M3, Spring v6.2.5
2025-04-27T01:21:45.743+01:00  INFO 24928 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-27T01:21:47.563+01:00  INFO 24928 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T01:21:47.737+01:00  INFO 24928 --- [ZentraBank] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155 ms. Found 4 JPA repository interfaces.
2025-04-27T01:21:49.083+01:00  INFO 24928 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-27T01:21:49.112+01:00  INFO 24928 --- [ZentraBank] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T01:21:49.112+01:00  INFO 24928 --- [ZentraBank] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27T01:21:49.229+01:00  INFO 24928 --- [ZentraBank] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-04-27T01:21:49.230+01:00  INFO 24928 --- [ZentraBank] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3328 ms
2025-04-27T01:21:49.578+01:00  INFO 24928 --- [ZentraBank] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T01:21:49.719+01:00  INFO 24928 --- [ZentraBank] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27T01:21:49.812+01:00  INFO 24928 --- [ZentraBank] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T01:21:50.494+01:00  INFO 24928 --- [ZentraBank] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T01:21:50.554+01:00  INFO 24928 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T01:21:50.960+01:00  INFO 24928 --- [ZentraBank] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4597e6e3
2025-04-27T01:21:50.963+01:00  INFO 24928 --- [ZentraBank] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T01:21:51.031+01:00  WARN 24928 --- [ZentraBank] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T01:21:51.066+01:00  INFO 24928 --- [ZentraBank] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 13.20
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T01:21:53.167+01:00  INFO 24928 --- [ZentraBank] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T01:21:53.186+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T01:21:53.190+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T01:21:53.198+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T01:21:53.199+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T01:21:53.201+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T01:21:53.203+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T01:21:53.205+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T01:21:53.206+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T01:21:53.213+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T01:21:53.217+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T01:21:53.222+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T01:21:53.233+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : create table accounts (balance float(53) not null, symbol char(1) not null, account_number bigint not null unique, created_at timestamp(6), updated_at timestamp(6), account_id varchar(255) not null, account_name varchar(255), code varchar(255), currency varchar(255), label varchar(255), owner_id varchar(255), status varchar(255), type varchar(255), user_id varchar(255), primary key (account_id))
2025-04-27T01:21:53.252+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : create table bank_user (created_at timestamp(6), dob timestamp(6), tel bigint, updated_at timestamp(6), firstname varchar(255), gender varchar(255), lastname varchar(255), password varchar(255), tag varchar(255), uid varchar(255) not null, username varchar(255) not null unique, roles varchar(255) array, primary key (uid))
2025-04-27T01:21:53.262+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : create table cards (balance float(53) not null, card_number bigint not null unique, exp timestamp(6), iss timestamp(6), updated_at timestamp(6), billing_address varchar(255), card_holder varchar(255), card_id varchar(255) not null, cvv varchar(255), owner_id varchar(255) unique, pin varchar(255), primary key (card_id))
2025-04-27T01:21:53.278+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : create table transaction (amount float(53), tx_fee float(53), created_at timestamp(6), updated_at timestamp(6), account_id varchar(255), card_id varchar(255), description varchar(255), owner_id varchar(255), receiver varchar(255), sender varchar(255), status varchar(255) check (status in ('PENDING','COMPLETED','FAILED','CANCELLED','REFUNDED','DISPUTED','CHARGEBACK','REVERSED','AUTHORIZED','SETTLED')), tx_id varchar(255) not null, type varchar(255) check (type in ('WITHDRAWAL','DEPOSIT','CONVERSION','TRANSFER','CREDIT','DEBIT')), primary key (tx_id))
2025-04-27T01:21:53.289+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKeb4j5cp37j6b6t6bxbb7mun03 foreign key (owner_id) references bank_user
2025-04-27T01:21:53.294+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists accounts add constraint FKgy1f1c1y1c63pkove4ilhroig foreign key (user_id) references bank_user
2025-04-27T01:21:53.297+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists cards add constraint FK7n1mknsc8frd6vv5dw21f7h36 foreign key (owner_id) references bank_user
2025-04-27T01:21:53.301+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKaqehs9hoj644s1sab3ge0wrs3 foreign key (account_id) references accounts
2025-04-27T01:21:53.303+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FK8j1bq1ckb9aee1sd5aeqk243f foreign key (card_id) references cards
2025-04-27T01:21:53.305+01:00 DEBUG 24928 --- [ZentraBank] [main] org.hibernate.SQL                        : alter table if exists transaction add constraint FKs7jwsh672fmeaac7kdprhj2p8 foreign key (owner_id) references bank_user
2025-04-27T01:21:53.311+01:00  INFO 24928 --- [ZentraBank] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:21:54.082+01:00 DEBUG 24928 --- [ZentraBank] [main] f.w.app.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-27T01:21:54.250+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.convertCurrency' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.270+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.transferFunds' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.271+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getUserAccounts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.271+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.getExchangeRates' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.272+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.AccountService.createAccount' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.342+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.creditCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.344+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.getCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.344+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.345+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.debitCard' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.345+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.CardService.createCardTransaction' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.421+01:00  INFO 24928 --- [ZentraBank] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-27T01:21:54.422+01:00  WARN 24928 --- [ZentraBank] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-27T01:21:54.427+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.registerUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.429+01:00 TRACE 24928 --- [ZentraBank] [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'fizy.web.app.service.UserService.authenticateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-04-27T01:21:54.490+01:00  WARN 24928 --- [ZentraBank] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T01:21:54.683+01:00 DEBUG 24928 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T01:21:54.829+01:00 DEBUG 24928 --- [ZentraBank] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T01:21:55.126+01:00 DEBUG 24928 --- [ZentraBank] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T01:21:55.218+01:00 DEBUG 24928 --- [ZentraBank] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T01:21:55.428+01:00  INFO 24928 --- [ZentraBank] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-27T01:21:55.444+01:00  INFO 24928 --- [ZentraBank] [main] fizy.web.app.ZentraBankApplication       : Started ZentraBankApplication in 10.743 seconds (process running for 11.579)
2025-04-27T01:21:55.449+01:00  INFO 24928 --- [ZentraBank] [main] .ExchangeRateScheduleTaskRunnerComponent : Starting exchange rate schedule task...
2025-04-27T01:21:55.638+01:00 DEBUG 24928 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : HTTP GET https://api.currencyapi.com/v3/latest?apikey=cur_live_P089H1jsFKtMB9WGMdfL9qodmdXcRjkatDClV6Jy
2025-04-27T01:21:55.667+01:00 DEBUG 24928 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-27T01:21:56.224+01:00 DEBUG 24928 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-27T01:21:56.228+01:00 DEBUG 24928 --- [ZentraBank] [pool-2-thread-1] o.s.web.client.RestTemplate              : Reading to [com.fasterxml.jackson.databind.JsonNode]
2025-04-27T01:21:56.294+01:00  INFO 24928 --- [ZentraBank] [pool-2-thread-1] .ExchangeRateScheduleTaskRunnerComponent : Exchange rates updated successfully.
2025-04-27T01:22:15.892+01:00  INFO 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T01:22:15.892+01:00  INFO 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T01:22:15.893+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T01:22:15.893+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T01:22:15.893+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T01:22:15.897+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@cda988
2025-04-27T01:22:15.898+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@650a0b50
2025-04-27T01:22:15.899+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T01:22:15.899+01:00  INFO 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-27T01:22:15.974+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/register", parameters={}
2025-04-27T01:22:15.977+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#registerUser(UserDto)
2025-04-27T01:22:16.226+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@47d5a08f]
2025-04-27T01:22:16.264+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T01:22:16.467+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:22:16.534+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:22:16.535+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.registerUser]
2025-04-27T01:22:16.556+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into bank_user (created_at,dob,firstname,gender,lastname,password,roles,tag,tel,updated_at,username,uid) values (?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:22:16.624+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:22:16.626+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@7ccd8ea8]
2025-04-27T01:22:16.676+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:22:21.901+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/user/auth", parameters={}
2025-04-27T01:22:21.901+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.UserController#authenticateUser(UserDto)
2025-04-27T01:22:21.903+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.UserDto@2705f4d4]
2025-04-27T01:22:21.905+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T01:22:21.907+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:22:22.109+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:22:22.184+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:22:22.290+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:22:22.295+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:22:22.517+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.UserService.authenticateUser]
2025-04-27T01:22:22.520+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:22:22.520+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.User@a77b4fa]
2025-04-27T01:22:22.533+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:22:40.932+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:22:40.991+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:22:40.997+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:22:41.002+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/accounts", parameters={}
2025-04-27T01:22:41.003+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.AccountController#createAccount(AccountDto, Authentication)
2025-04-27T01:22:41.012+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [fizy.web.app.dto.AccountDto@4e7f138c]
2025-04-27T01:22:41.017+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T01:22:41.019+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:22:41.032+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T01:22:41.037+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByAccountNumber]: This method is not transactional.
2025-04-27T01:22:41.041+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 where a1_0.account_number=? fetch first ? rows only
2025-04-27T01:22:41.044+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:22:41.057+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:22:41.059+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.AccountService.createAccount]
2025-04-27T01:22:41.060+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into accounts (account_name,account_number,balance,code,created_at,currency,label,owner_id,status,symbol,type,updated_at,user_id,account_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:22:41.075+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:22:41.076+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Account@55c6ac1f]
2025-04-27T01:22:41.085+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:23:32.635+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:23:32.639+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:23:32.642+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:32.646+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/accounts", parameters={}
2025-04-27T01:23:32.647+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.AccountController#getUserAccounts(Authentication)
2025-04-27T01:23:32.648+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.AccountService.getUserAccounts]
2025-04-27T01:23:32.649+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:23:32.652+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where o1_0.uid=?
2025-04-27T01:23:32.661+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:23:32.663+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:32.669+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.AccountService.getUserAccounts]
2025-04-27T01:23:32.672+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:23:32.673+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[fizy.web.app.entity.Account@7e701337]]
2025-04-27T01:23:32.676+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:23:45.490+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:23:45.492+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:23:45.494+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:45.499+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/create?amount=100", parameters={masked}
2025-04-27T01:23:45.499+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#createCard(double, Authentication)
2025-04-27T01:23:45.509+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T01:23:45.510+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:23:45.512+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.account_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=? fetch first ? rows only
2025-04-27T01:23:45.517+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:23:45.520+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T01:23:45.523+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:23:45.525+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:45.529+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByCardNumber]: This method is not transactional.
2025-04-27T01:23:45.535+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.card_id from cards c1_0 where c1_0.card_number=? fetch first ? rows only
2025-04-27T01:23:45.539+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.540+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.541+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.544+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.544+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.545+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.545+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.546+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.547+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.551+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:45.552+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.createCard]
2025-04-27T01:23:45.553+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into cards (balance,billing_address,card_holder,card_number,cvv,exp,iss,owner_id,pin,updated_at,card_id) values (?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:45.559+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:45.565+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:45.568+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:45.579+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T01:23:45.594+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:23:45.594+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@4f727c44]
2025-04-27T01:23:45.597+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:23:57.832+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:23:57.838+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:23:57.840+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:57.845+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/credit?amount=100", parameters={masked}
2025-04-27T01:23:57.846+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#creditCard(double, Authentication)
2025-04-27T01:23:57.847+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T01:23:57.847+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:23:57.850+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T01:23:57.852+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:23:57.854+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:23:57.858+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.858+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.859+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.862+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.862+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.863+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:23:57.863+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.creditCard]
2025-04-27T01:23:57.864+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:57.867+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:23:57.870+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : update cards set balance=?,billing_address=?,card_holder=?,card_number=?,cvv=?,exp=?,iss=?,owner_id=?,pin=?,updated_at=? where card_id=?
2025-04-27T01:23:57.873+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T01:23:57.890+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:23:57.890+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Transaction@1b8bf7be]
2025-04-27T01:23:57.892+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:03.810+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:03.812+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:03.814+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:03.820+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T01:24:03.821+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T01:24:03.822+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:24:03.822+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T01:24:03.825+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T01:24:03.827+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:24:03.829+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:03.833+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:24:03.835+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:03.836+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@330c92c]
2025-04-27T01:24:03.838+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:11.116+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:11.126+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:11.135+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:11.175+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/card/debit?amount=9", parameters={masked}
2025-04-27T01:24:11.178+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#debitCard(double, Authentication)
2025-04-27T01:24:11.180+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.debitCard]
2025-04-27T01:24:11.181+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByCodeAndOwnerUid]: This method is not transactional.
2025-04-27T01:24:11.187+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,a1_0.owner_id,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,a1_0.user_id from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id where a1_0.code=? and o1_0.uid=?
2025-04-27T01:24:11.197+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:24:11.199+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:11.205+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.207+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.208+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.211+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.212+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.213+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-04-27T01:24:11.214+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.debitCard]
2025-04-27T01:24:11.216+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:24:11.219+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into transaction (account_id,amount,card_id,created_at,description,owner_id,receiver,sender,status,tx_fee,type,updated_at,tx_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-04-27T01:24:11.224+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : update cards set balance=?,billing_address=?,card_holder=?,card_number=?,cvv=?,exp=?,iss=?,owner_id=?,pin=?,updated_at=? where card_id=?
2025-04-27T01:24:11.226+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : update accounts set account_name=?,account_number=?,balance=?,code=?,created_at=?,currency=?,label=?,owner_id=?,status=?,symbol=?,type=?,updated_at=?,user_id=? where account_id=?
2025-04-27T01:24:11.229+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:11.230+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Transaction@5409c5e5]
2025-04-27T01:24:11.232+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:16.673+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:16.675+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:16.677+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:16.680+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T01:24:16.680+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T01:24:16.681+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:24:16.681+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T01:24:16.682+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T01:24:16.684+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:24:16.685+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:16.688+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:24:16.691+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:16.691+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@6f9c20]
2025-04-27T01:24:16.693+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:29.390+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:29.393+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:29.395+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:29.399+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=0", parameters={masked}
2025-04-27T01:24:29.399+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:24:29.408+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:24:29.420+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:24:29.424+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id left join bank_user u1_0 on u1_0.uid=a1_0.user_id where a1_0.account_id=?
2025-04-27T01:24:29.427+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:29.446+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:29.447+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[fizy.web.app.entity.Transaction@1e9a0701, fizy.web.app.entity.Transaction@137f9f1c, fizy.web.app.en (truncated)...]
2025-04-27T01:24:29.450+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:49.528+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:49.530+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:49.532+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:49.537+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=1", parameters={masked}
2025-04-27T01:24:49.538+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:24:49.539+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:24:49.543+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at offset ? rows fetch first ? rows only
2025-04-27T01:24:49.548+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.tx_id) from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=?
2025-04-27T01:24:49.552+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:49.552+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:24:49.554+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:24:57.927+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:24:57.930+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:24:57.931+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:24:57.938+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=2", parameters={masked}
2025-04-27T01:24:57.938+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:24:57.939+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:24:57.941+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at offset ? rows fetch first ? rows only
2025-04-27T01:24:57.945+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select count(t1_0.tx_id) from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=?
2025-04-27T01:24:57.947+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:24:57.948+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:24:57.949+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:25:03.086+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:25:03.088+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:25:03.089+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:25:03.093+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=200", parameters={masked}
2025-04-27T01:25:03.093+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:25:03.094+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:25:03.098+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at offset ? rows fetch first ? rows only
2025-04-27T01:25:03.101+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.tx_id) from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=?
2025-04-27T01:25:03.103+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:25:03.103+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:25:03.104+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:25:22.051+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:25:22.053+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:25:22.055+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:25:22.059+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=0", parameters={masked}
2025-04-27T01:25:22.060+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:25:22.060+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:25:22.065+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:25:22.068+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id left join bank_user u1_0 on u1_0.uid=a1_0.user_id where a1_0.account_id=?
2025-04-27T01:25:22.069+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:25:22.075+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:25:22.075+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [[fizy.web.app.entity.Transaction@7f29adee, fizy.web.app.entity.Transaction@360cc454, fizy.web.app.en (truncated)...]
2025-04-27T01:25:22.078+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:27:37.026+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:27:37.031+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:27:37.034+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:27:37.038+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions/c/cffeb4a7-1dd9-4d71-b130-95d84a8bc2a7?page=0", parameters={masked}
2025-04-27T01:27:37.039+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getTransactionsByCardId(String, String, Authentication)
2025-04-27T01:27:37.044+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCardCardIdAndOwnerUid]: This method is not transactional.
2025-04-27T01:27:37.047+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join cards c1_0 on c1_0.card_id=t1_0.card_id left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where c1_0.card_id=? and o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:27:37.050+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:27:37.050+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:27:37.052+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:28:25.200+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:28:25.203+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:28:25.206+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:28:25.210+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions/c/cffeb4a7-1dd9-4d71-b130-95d84a8bc2a7?page=0", parameters={masked}
2025-04-27T01:28:25.210+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getTransactionsByCardId(String, String, Authentication)
2025-04-27T01:28:25.211+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCardCardIdAndOwnerUid]: This method is not transactional.
2025-04-27T01:28:25.213+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join cards c1_0 on c1_0.card_id=t1_0.card_id left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where c1_0.card_id=? and o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:28:25.215+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:28:25.216+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:28:25.217+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:28:55.902+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:28:55.904+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:28:55.906+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:28:55.909+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions/a/cffeb4a7-1dd9-4d71-b130-95d84a8bc2a7?page=0", parameters={masked}
2025-04-27T01:28:55.910+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getTransactionsByAccountId(String, String, Authentication)
2025-04-27T01:28:55.913+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByAccountAccountIdAndOwnerUid]: This method is not transactional.
2025-04-27T01:28:55.917+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join accounts a1_0 on a1_0.account_id=t1_0.account_id left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where a1_0.account_id=? and o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:28:55.920+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:28:55.920+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-04-27T01:28:55.922+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:29:27.775+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:29:27.777+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:29:27.779+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:29:27.783+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions?page=0", parameters={masked}
2025-04-27T01:29:27.783+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getAllTransactions(String, Authentication)
2025-04-27T01:29:27.783+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOwnerUid]: This method is not transactional.
2025-04-27T01:29:27.786+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:29:27.787+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.account_id,a1_0.account_name,a1_0.account_number,a1_0.balance,a1_0.code,a1_0.created_at,a1_0.currency,a1_0.label,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,a1_0.status,a1_0.symbol,a1_0.type,a1_0.updated_at,u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from accounts a1_0 left join bank_user o1_0 on o1_0.uid=a1_0.owner_id left join bank_user u1_0 on u1_0.uid=a1_0.user_id where a1_0.account_id=?
2025-04-27T01:29:27.789+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:29:27.794+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:29:27.794+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[fizy.web.app.entity.Transaction@5b272aa7, fizy.web.app.entity.Transaction@3669a5ec, fizy.web.app.en (truncated)...]
2025-04-27T01:29:27.800+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:36:08.250+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:36:08.253+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:36:08.255+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:36:08.259+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/card", parameters={}
2025-04-27T01:36:08.260+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.CardController#getCard(Authentication)
2025-04-27T01:36:08.261+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:36:08.261+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByOwnerUid]: This method is not transactional.
2025-04-27T01:36:08.262+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,c1_0.owner_id,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where o1_0.uid=?
2025-04-27T01:36:08.264+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where u1_0.uid=?
2025-04-27T01:36:08.265+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:36:08.267+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [fizy.web.app.service.CardService.getCard]
2025-04-27T01:36:08.269+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:36:08.270+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [fizy.web.app.entity.Card@6d5e7236]
2025-04-27T01:36:08.272+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:36:32.171+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCase]: This method is not transactional.
2025-04-27T01:36:32.174+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.uid,u1_0.created_at,u1_0.dob,u1_0.firstname,u1_0.gender,u1_0.lastname,u1_0.password,u1_0.roles,u1_0.tag,u1_0.tel,u1_0.updated_at,u1_0.username from bank_user u1_0 where upper(u1_0.username)=upper(?)
2025-04-27T01:36:32.176+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.owner_id=?
2025-04-27T01:36:32.181+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/transactions/c/708c4d13-9f96-405d-b3b7-6c1b461ee94e?page=0", parameters={masked}
2025-04-27T01:36:32.181+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to fizy.web.app.controller.TransactionController#getTransactionsByCardId(String, String, Authentication)
2025-04-27T01:36:32.182+01:00 TRACE 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCardCardIdAndOwnerUid]: This method is not transactional.
2025-04-27T01:36:32.185+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select t1_0.tx_id,t1_0.account_id,t1_0.amount,t1_0.card_id,t1_0.created_at,t1_0.description,t1_0.owner_id,t1_0.receiver,t1_0.sender,t1_0.status,t1_0.tx_fee,t1_0.type,t1_0.updated_at from transaction t1_0 left join cards c1_0 on c1_0.card_id=t1_0.card_id left join bank_user o1_0 on o1_0.uid=t1_0.owner_id where c1_0.card_id=? and o1_0.uid=? order by t1_0.created_at fetch first ? rows only
2025-04-27T01:36:32.189+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.card_id,c1_0.balance,c1_0.billing_address,c1_0.card_holder,c1_0.card_number,c1_0.cvv,c1_0.exp,c1_0.iss,o1_0.uid,o1_0.created_at,o1_0.dob,o1_0.firstname,o1_0.gender,o1_0.lastname,o1_0.password,o1_0.roles,o1_0.tag,o1_0.tel,o1_0.updated_at,o1_0.username,c1_0.pin,c1_0.updated_at from cards c1_0 left join bank_user o1_0 on o1_0.uid=c1_0.owner_id where c1_0.card_id=?
2025-04-27T01:36:32.193+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T01:36:32.193+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [[fizy.web.app.entity.Transaction@46dc7938, fizy.web.app.entity.Transaction@53a67baf, fizy.web.app.en (truncated)...]
2025-04-27T01:36:32.194+01:00 DEBUG 24928 --- [ZentraBank] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T01:44:31.987+01:00  INFO 24928 --- [ZentraBank] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T01:44:31.998+01:00  INFO 24928 --- [ZentraBank] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T01:44:32.018+01:00  INFO 24928 --- [ZentraBank] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T01:44:32.026+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : set client_min_messages = WARNING
2025-04-27T01:44:32.031+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKeb4j5cp37j6b6t6bxbb7mun03
2025-04-27T01:44:32.036+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists accounts drop constraint if exists FKgy1f1c1y1c63pkove4ilhroig
2025-04-27T01:44:32.040+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists cards drop constraint if exists FK7n1mknsc8frd6vv5dw21f7h36
2025-04-27T01:44:32.043+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKaqehs9hoj644s1sab3ge0wrs3
2025-04-27T01:44:32.047+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FK8j1bq1ckb9aee1sd5aeqk243f
2025-04-27T01:44:32.051+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : alter table if exists transaction drop constraint if exists FKs7jwsh672fmeaac7kdprhj2p8
2025-04-27T01:44:32.053+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists accounts cascade
2025-04-27T01:44:32.063+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists bank_user cascade
2025-04-27T01:44:32.071+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists cards cascade
2025-04-27T01:44:32.080+01:00 DEBUG 24928 --- [ZentraBank] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists transaction cascade
2025-04-27T01:44:32.091+01:00  INFO 24928 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T01:44:32.105+01:00  INFO 24928 --- [ZentraBank] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
